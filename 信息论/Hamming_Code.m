%已知生成矩阵G，可以求出校验矩阵H。

clear all;

E=[1,1,1,1,1,1,1];

H1=[1,1,1,0;0,1,1,1;1,1,0,1];

H2=[1,0,0;0,1,0;0,0,1];

H=[H1,H2]%校验矩阵。

R=[1,0,1,1,0,0,1];%接收到的码字。

S1=R*(H'); %S为校阵子；

S=mod(S1,2);

for i=1:7; %用改for循环取出H中每一列，然后与S相加。

 T=H(:,[i]);

 %disp(T);

 B1=S+T';

 B=mod(B1,2);

 

    if (all(B(:)==0)); %如果S与H的第i列之和B为0矩阵，则表示R中第i个码字有误。

      fprintf('R中序列中错误码位是第：');

      disp(i) 

    else

     E(1,i)=0;

     

    end;

   

 

end;

C=mod((R+E),2);

fprintf('纠错后的码字应该为：C=');

disp(C);